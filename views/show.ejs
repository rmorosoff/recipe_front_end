<ol class="breadcrumb">
    <li class="active">Home</a></li>
</ol>

<br/>

<%- partial ('partials/statusmessage.ejs') %>

<div class="recipeHeader">
  <p>
    <h2>Dish:   <%= recipe.title %></h2>
  </p>
  <p>
    <h2>Description:   <%= recipe.description %></h2>
  </p>
  <p>
    <h2>Preparation:   <%= recipe.minutes %> minutes</h2>
  </p>

</div>

<br />
<br />
<div>
  <h3>Ingredients  <button class="add-ingredient btn-success" data-id="<%= recipe.id %>">Add</button></h3>
  <table class="table table-striped table-bordered" id="ingredientsTable" style="width:100%">
    <thead>
      <tr>
        <th>Ingredient Item</th>
        <th>Quantity</th>
        <th>Unit of Measure</th>
        <th>Action </th>
      </tr>
    </thead>
    <tbody>
    <% if(recipe && recipe.ingredients && recipe.ingredients.length > 0){ %>
      <% recipe.ingredients.forEach(function(ingredient){ %>
        <tr>
          <td><%= ingredient.foodItem %></td>
          <td><%= ingredient.quantity %></td>
          <td><%= ingredient.unitOfMeasure %></td>
          <td><button class="delete-ingredient btn-danger" data-id="<%= recipe.id %>" data-ingid="<%= ingredient.id %>">Delete</button>
        </tr>
      <% }) %>
    <% } %>
    </tbody>
  </table>
</div>
<br />
<br />
<div>
  <h3>Recipe Steps  <button class="add-instruction btn-success" data-id="<%= recipe.id %>">Add</button></h3>
  <table class="table table-striped table-bordered" id="stepsTable" style="width:100%">
    <thead>
      <tr>
        <th>Step</th>
        <th>Action </th>
      </tr>
    </thead>
    <tbody>
    <% if(recipe && recipe.instructions && recipe.instructions.length > 0){ %>
      <% recipe.instructions.forEach(function(instruction){ %>
        <tr>
          <td><%= instruction.step %></td>
          <td><button class="delete-instruction btn-danger" data-id="<%= recipe.id %>" data-insid="<%= instruction.id %>">Delete</button>
        </tr>
      <% }) %>
    <% } %>
    </tbody>
  </table>
</div>
